<html xmlns="http://www.w3.org/1999/xhtml"><head>
  <title>Spot the Surveillance</title>
  <meta name="description" content="EFF Street-Level Surveillance VR prototype" />
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
  <link rel="stylesheet" href="/css/surveillance.css">
  <meta content="utf-8" http-equiv="encoding">
  <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-event-set-component@^4.0.0/dist/aframe-event-set-component.min.js"></script>
  <script src="js/sts.js"></script>
  <script src="js/links.js"></script>
</head>
<body>
  <div class="wrapper">
    <a-scene>
      <h1>One moment please...</h1>
      <a-assets>
        <!-- images -->
        <img id="alpr-card"  src="assets/alpr-card.png">
        <img id="biometric-card" src="assets/biometric-card.png">
        <img id="bodycam-card" src="assets/bodycam-card.png">
        <img id="camera-card" src="assets/camera-card.png">
        <img id="drone-card"  src="assets/drone-card.png">
        <img id="sts-sky" src="assets/sts-sky1-flip.jpg">
        <img id="eff-logo" src="assets/eff-logo-black.svg">
        <!-- sounds -->
        <audio id="beep" preload="auto" src="assets/beeps.mp3"></audio>
        <audio id="boop" preload="auto" src="assets/boop.wav"></audio>
        <audio id="ny-ambience" preload="auto" autoplay loop="true" src="assets/canal-street.wav"></audio>
        <audio id="ding"  src="assets/piano-ding.wav" poolsize="10"></audio>
        <!-- mixins -->
        <!-- popups -->
        <a-mixin id="alpr"  position="4.493 3.587 -4.257" geometry="primitive: plane; width: 5; height: 5; " material="shader: flat; side: front; opacity: 1; transparent: true; src:#alpr-card" rotation="20 -40 0"  visible="false">
        </a-mixin>
        <a-mixin id="alpr-mobile"  position="5.010 3.474 6.979" geometry="primitive: plane; width: 5; height: 5;" material="shader: flat; side: front; opacity: 1; transparent: true; src:#alpr-card" rotation="0 -150 0"  visible="false" >
        </a-mixin>
        <a-mixin id="biometric"  position="-4.300 1.819 -2.272" rotation="0 60 0"  geometry="primitive: plane; width: 5; height: 5; " material="shader: flat; side: front; opacity: 1; transparent: true;  src:#biometric-card"  visible="false" >
        </a-mixin>
        <a-mixin id="bodycam"  position="-4.423 2.067 -2.417" rotation="0 60 0"  geometry="primitive: plane; width: 5; height: 5;" material="shader: flat; side: front; opacity: 1; transparent: true; src:#bodycam-card" visible="false" >
        </a-mixin>
        <a-mixin id="camera"  position="4.046 2.689 -0.650" geometry="primitive: plane; width: 5; height: 5; " material="shader: flat; side: front; opacity: 1; transparent: true; src:#camera-card" rotation="20 -40 0" visible="false">
       </a-mixin>
       <a-mixin id="drone"  position="-1.822 5.516  12.799" geometry="primitive: plane; width: 5; height: 5; " material="shader: flat; side: front; opacity: 1; transparent: true; src:#drone-card" rotation="20 170 0"  visible="false"
       >
       </a-mixin>
       <a-mixin id="exit-text"  position="0 -5 -2" geometry="primitive: plane; width: 8; height: 4; " material="shader: flat; side: front; opacity: 1; color: white"  visible="false"
       text="align: left; width: 4; height: 20; value:Would you like to exit Spot the Surveillance?; color: black;" >
       </a-mixin>


        <a-mixin id="see-through" material="color: white; transparent: true; opacity: 0;"  scale="3 3 1">
        </a-mixin>
	    	<a-mixin id="counter" material="shader: flat; side: front; color: black; opacity: 0.9" text="align: center; color: white; width: 2; height: 15 ;value: 0 / 7" visible="true" position="0 -0.85 -2.2">
        </a-mixin>
        <a-mixin id="close" event-set__enter="_event: mouseenter; _target: #alpr; visible: false"
        sound="src: #boop; autoplay: false; loop: false; volume: 10; on: mouseenter" position="1.6 1.7 1.2" geometry="primitive: plane; width: 0.5; height: 0.5;" material="color: black; shader: flat; side: front; opacity: 1;" visible="true"
        text="align: center; width: 3; height: 3; value: X">
        </a-mixin>
        <a-mixin id="exit-logo" position="7.128 -40.524 2.747" geometry="primitive: plane; width: 0.5; height: 0.5;" material="transparent: true; color: #ec1e1e; shader: flat; side: front; opacity: 1; src:#eff-logo" rotation="-90 0 0" scale="50 10 0" visible="true" >
        </a-mixin>
        <a-mixin id="exit" geometry="primitive: sphere" position="47.468 -340.523 10.223" scale="300 1 300" material="color: #ec1e1e" >
        </a-mixin>
      </a-assets>


      <a-entity camera look-controls wasd-controls position="0 2.2 4" >
          <a-entity position="0 0 -3"
          geometry="primitive: ring; radiusInner: 0.1; radiusOuter: 0.15;"
          material="color: white; shader: flat"
          cursor="maxDistance: 30; fuse: true">
          <a-animation begin="click" easing="ease-in" attribute="scale"
          fill="forwards" from="0.2 0.2 0.2" to="1 1 1" dur="150"></a-animation>
          <a-animation begin="fusing" easing="ease-in" attribute="scale"
          fill="backwards" from="1 1 1" to="0.2 0.2 0.2" dur="1500"></a-animation>
          </a-entity>
	        <a-entity mixin="counter" id="count-display">
	        </a-entity>
       </a-entity>

    <!-- all the surveillance objects  -->
    <a-entity listener id="surveillance-objects">
      <a-sphere id="alpr-mobile-hotspot"   position="144.400 -17.342 317.810" data-raycastable event-set__enter="_event: mouseenter; _target: #alpr-mobile-popup; visible: true" sound="src: #ding; autoplay: false; loop: false; volume: 10; on: mouseenter" scale="20 20 20">
      </a-sphere>

      <a-sphere id="alpr-hotspot" mixin="see-through" position="16.222 39.245 -14.044" data-raycastable event-set__enter="_event: mouseenter; _target: #alpr-popup; visible: true" sound="src: #ding; autoplay: false; loop: false; volume: 10; on: mouseenter" scale="3 3 3">
      </a-sphere>

      <a-sphere id="biometric-hotspot"  position="-170.935 -123.839 -304.428" data-raycastable geometry="radius: 4" event-set__enter="_event: mouseenter; _target: #biometric-popup; visible: true" sound="src: #ding; autoplay: false; loop: false; volume: 10; on: mouseenter" scale="3 3 3">
      </a-sphere>

      <a-sphere id="bodycam-hotspot" position="-19.774 -4.212 -38.747" data-raycastable event-set__enter="_event: mouseenter; _target: #bodycam-popup; visible: true" sound="src: #ding; autoplay: false; loop: false; volume: 10; on: mouseenter" scale="3 3 3">
      </a-sphere>

      <a-sphere id="camera1-hotspot" mixin="see-through" position="40.675 106.831 -68.152" data-raycastable geometry="radius: 4" event-set__enter="_event: mouseenter; _target: #camera1-popup; visible: true" sound="src: #ding; autoplay: false; loop: false; volume: 10; on: mouseenter" scale="2 2 2">
      </a-sphere>

      <a-sphere id="camera2-hotspot" position="239.637 86.628 62.650 " data-raycastable geometry="radius: 4" event-set__enter="_event: mouseenter; _target: #camera2-popup; visible: true" sound="src: #ding; autoplay: false; loop: false; volume: 10; on: mouseenter" scale="3 3 3">
      </a-sphere>

      <a-sphere id="drone-hotspot"   position="-19.595 115.894 80.722" data-raycastable event-set__enter="_event: mouseenter; _target: #drone-popup; visible: true" sound="src: #ding; autoplay: false; loop: false; volume: 10; on: mouseenter" scale="5 5 5">
      </a-sphere>
    </a-entity>

    <!-- all the popups -->
    <a-entity  id="alpr-mobile-popup" mixin="alpr-mobile" sound="src: #beep; autoplay: false; loop: false; volume: 1; on: click" >
      <a-text mixin="close"  event-set__enter=" _target: #alpr-mobile-popup;" >
      </a-text>
    </a-entity>

    <a-entity id="alpr-popup" mixin="alpr" sound="src: #beep; autoplay: false; loop: false; volume: 1; on: click">
      <a-text mixin="close"  event-set__enter="_target: #alpr-popup" >
      </a-text>
    </a-entity>

  <a-entity  id="biometric-popup" mixin="biometric" sound="src: #beep; autoplay: false; loop: false; volume: 5; on: click" >
    <a-text mixin="close"  event-set__enter=" _target: #biometric-popup" >
    </a-text>
  </a-entity>


  <a-entity id="bodycam-popup" mixin="bodycam" sound="src: #beep; autoplay: false; loop: false; volume: 5; on: click" >
    <a-text mixin="close"  event-set__enter=" _target: #bodycam-popup" >
    </a-text>
  </a-entity>


    <a-entity  id="camera1-popup" mixin="camera" sound="src: #beep; autoplay: false; loop: false; volume: 1; on: click" position="3.309 2.16
     -3.872" rotation="0 -30 0">
      <a-text mixin="close"  event-set__enter=" _target: #camera1-popup;" >
      </a-text>
    </a-entity>

    <a-entity  id="camera2-popup" mixin="camera" sound="src: #beep; autoplay: false; loop: false; volume: 1; on: click" position="7.0 1.23 3.612" rotation="0 -120 0" >
      <a-text mixin="close"  event-set__enter=" _target: #camera2-popup;" >
      </a-text>
    </a-entity>

    <a-entity  id="drone-popup" mixin="drone" sound="src: #beep; autoplay: false; loop: false; volume: 1; on: click" >
      <a-text mixin="close"  event-set__enter=" _target: #drone-popup;" >
      </a-text>
    </a-entity>

    <a-entity  id="exit-screen" mixin="exit-text" sound="src: #beep; autoplay: false; loop: false; volume: 1; on: click" position="-0.294 1.837 -7.487">
      <a-text mixin="close"  event-set__enter=" _target: #exit-screen;" >
      </a-text>
    </a-entity>

    <a-entity id="exit-sts"   mixin="exit-logo" data-raycastable event-set__enter="_event: mouseenter; _target: #exit-screen; visible: true" sound="src: #ding; autoplay: false; loop: false; volume: 10; on: mouseenter">
    </a-entity>
    <a-entity id="magic-carpet" mixin="exit">
    </a-entity>

    <a-entity id="sky" geometry="primitive: sphere; radius:1000"  material="shader: flat; side: back;  src:#sts-sky" sound="src: #ny-ambience; loop:true; volume: 0.1" >
    </a-entity>

</a-scene>
</div>
</body>
</html>
