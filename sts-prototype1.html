<html xmlns="http://www.w3.org/1999/xhtml"><head>
  <title>Spot the Surveillance</title>
  <meta name="description" content="EFF Security VR prototype" />
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
  <link rel="stylesheet" href="/css/surveillance.css">
  <meta content="utf-8" http-equiv="encoding">
  <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-event-set-component@^4.0.0/dist/aframe-event-set-component.min.js"></script>
  <script src="js/sts.js"></script>
</head>
<body>
  <div class="wrapper">
    <a-scene>
      <h1>One moment please...</h1>
      <a-assets>
        <!-- mixins -->
        <a-mixin id="alpr"  position="1.08 3.9 -3.3" geometry="primitive: plane; width: 5; height: 5; " material="shader: flat; side: front; opacity: 1; src:#sls" visible="false"
        text="align: left; width: 4; height: 20; value: Automated license plate readers (ALPRs) are high-speed, computer-controlled camera systems that are typically mounted on street poles, streetlights, highway overpasses, mobile trailers, or attached to police squad cars. ALPRs automatically capture all license plate numbers that come into view, along with the location, date, and time. The data, which includes photographs of the vehicle and sometimes its driver and passengers, is then uploaded to a central server.; color: white;" >
        </a-mixin>
        <a-mixin id="bodycam"  position="-5.5 3.4 0.9" rotation="0 60 0"  geometry="primitive: plane; width: 5; height: 5; " material="shader: flat; side: front; opacity: 1; src:#sls" visible="false"
        text="align: left; width: 4; height: 20; value: Unlike many other forms of police technology, body-worn cameras can serve both a law enforcement and a public accountability function. Body cameras worn by police can be useful for documenting police misconduct and use of force, but footage can also be used to surveil both people that police interact with and third parties who might not even realize they are being filmed. If combined with facial recognition or other technologies, thousands of police officers wearing body-worn cameras could record the words, deeds, and locations of much of the population at a given time, raising serious First and Fourth Amendment concerns.; color: white;" >
        </a-mixin>
        <a-mixin id="see-through" material="color: white; transparent: true; opacity: 0;"  scale="3 3 1"></a-mixin>
        <a-mixin id="sphere" geometry="primitive: sphere"></a-mixin>
	    	<a-mixin id="counter" material="shader: flat; side: front; color: black; opacity: 0.9" text="align: center; color: white; width: 2; height: 15 ;value: 0 / 2" visible="true" position="0 -0.85 -2.2"></a-mixin>
        <a-mixin id="close" event-set__enter="_event: mouseenter; _target: #alpr; visible: false"
        sound="src: #boop; autoplay: false; loop: false; volume: 10; on: mouseenter" position="1.6 1.7 1.2" geometry="primitive: plane; width: 0.5; height: 0.5;" material="color: black; shader: flat; side: front; opacity: 1;" visible="true"
        text="align: center; width: 3; height: 3; value: X">
        </a-mixin>
        <!-- images -->
        <img id="nyc" src="https://cdn.glitch.com/0b2b0eec-9a34-4815-8998-d78b33723e13%2Fnyc-equirectangular-camera.jpg?1524003830350">
        <img id="sls"  src="https://cdn.glitch.com/0b2b0eec-9a34-4815-8998-d78b33723e13%2Fsls-header-3.png?1529362107092">
        <!-- sounds -->
        <audio id="beep"  src="https://cdn.glitch.com/0b2b0eec-9a34-4815-8998-d78b33723e13%2Fbeeps.mp3?1529105737637"></audio>
        <audio id="boop"  src="https://cdn.glitch.com/0b2b0eec-9a34-4815-8998-d78b33723e13%2Fboop.wav?1529533097610"></audio>
        <audio id="ny-ambience" preload="auto" src="assets/canal-street.wav"></audio>
        <audio id="ding1" src="/assets/piano-ding.wav"></audio>
      </a-assets>


      <a-entity camera look-controls wasd-controls position="0 2.2 4" >
          <a-entity position="0 0 -3"
          geometry="primitive: ring; radiusInner: 0.1; radiusOuter: 0.15;"
          material="color: white; shader: flat"
          cursor="maxDistance: 30; fuse: true">
          <a-animation begin="click" easing="ease-in" attribute="scale"
          fill="forwards" from="0.2 0.2 0.2" to="1 1 1" dur="150"></a-animation>
          <a-animation begin="fusing" easing="ease-in" attribute="scale"
          fill="backwards" from="1 1 1" to="0.2 0.2 0.2" dur="1500"></a-animation>
          </a-entity>
	        <a-entity mixin="counter" id="count-display">
	        </a-entity>
       </a-entity>

    <!-- all the surveillance object  -->
    <a-entity listener id="surveillance-objects">
      <a-sphere id="alpr-hotspot" mixin="see-through"  position="-10 13 -30" data-raycastable event-set__enter="_event: mouseenter; _target: #alpr; visible: true" sound="src: #ding1; autoplay: false; loop: false; volume: 1; on: mouseenter">
      </a-sphere>

      <a-sphere id="bodycam-hotspot"  position="-37.888 -18.600 -21.840" data-raycastable geometry="radius: 4" event-set__enter="_event: mouseenter; _target: #bodycam; visible: true" sound="src: #ding1; autoplay: false; loop: false; volume: 10; on: mouseenter">
      </a-sphere>
    </a-entity>

    <!-- all the popups -->
    <a-entity id="alpr-wrapper" position="0 0.5 1">
      <a-entity mixin="alpr" sound="src: #beep; autoplay: false; loop: false; volume: 1; on: click">
        <a-text mixin="close">
        </a-text>
    </a-entity>

  <a-entity id="bodycam-wrapper">
    <a-entity  mixin="bodycam"sound="src: #beep; autoplay: false; loop: false; volume: 1; on: click" >
      <a-text mixin="close"  event-set__enter=" _target: #bodycam;" >
      </a-text>
  </a-entity>
</a-entity>

    <a-entity id="sky" geometry="primitive: sphere; radius:3000"  material="shader: flat; side: back;  src:#nyc" sound="src: #ny-ambience; autoplay:true; loop:true; volume: 0.1" >
    </a-entity>

</a-scene>
</div>
</body>
</html>
